(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,3731,e=>{"use strict";var a=e.i(63813);e.s(["X",()=>a.default])},44879,e=>{"use strict";let a=(0,e.i(78773).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>a],44879)},52804,e=>{"use strict";var a=e.i(77678),l=e.i(78460),t=e.i(37186),r=e.i(74607),s=e.i(32118),i=e.i(44879),n=e.i(3731),o=e.i(2863),d=e.i(11300);e.i(42705);var u=e.i(45844),c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=(0,u.createSlot)(`Primitive.${t}`),s=l.forwardRef((e,l)=>{let{asChild:s,...i}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,a.jsx)(s?r:t,{...i,ref:l})});return s.displayName=`Primitive.${t}`,{...e,[t]:s}},{}),m="Progress",[x,p]=function(e,t=[]){let r=[],s=()=>{let a=r.map(e=>l.createContext(e));return function(t){let r=t?.[e]||a;return l.useMemo(()=>({[`__scope${e}`]:{...t,[e]:r}}),[t,r])}};return s.scopeName=e,[function(t,s){let i=l.createContext(s);i.displayName=t+"Context";let n=r.length;r=[...r,s];let o=t=>{let{scope:r,children:s,...o}=t,d=r?.[e]?.[n]||i,u=l.useMemo(()=>o,Object.values(o));return(0,a.jsx)(d.Provider,{value:u,children:s})};return o.displayName=t+"Provider",[o,function(a,r){let o=r?.[e]?.[n]||i,d=l.useContext(o);if(d)return d;if(void 0!==s)return s;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let a=e[0];if(1===e.length)return a;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let r=t.reduce((a,{useScope:l,scopeName:t})=>{let r=l(e)[`__scope${t}`];return{...a,...r}},{});return l.useMemo(()=>({[`__scope${a.scopeName}`]:r}),[r])}};return t.scopeName=a.scopeName,t}(s,...t)]}(m),[f,h]=x(m),v=l.forwardRef((e,l)=>{var t,r;let{__scopeProgress:s,value:i=null,max:n,getValueLabel:o=j,...d}=e;(n||0===n)&&!w(n)&&console.error((t=`${n}`,`Invalid prop \`max\` of value \`${t}\` supplied to \`Progress\`. Only numbers greater than 0 are valid max values. Defaulting to \`100\`.`));let u=w(n)?n:100;null===i||C(i,u)||console.error((r=`${i}`,`Invalid prop \`value\` of value \`${r}\` supplied to \`Progress\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or 100 if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`));let m=C(i,u)?i:null,x=y(m)?o(m,u):void 0;return(0,a.jsx)(f,{scope:s,value:m,max:u,children:(0,a.jsx)(c.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":y(m)?m:void 0,"aria-valuetext":x,role:"progressbar","data-state":b(m,u),"data-value":m??void 0,"data-max":u,...d,ref:l})})});v.displayName=m;var g="ProgressIndicator",N=l.forwardRef((e,l)=>{let{__scopeProgress:t,...r}=e,s=h(g,t);return(0,a.jsx)(c.div,{"data-state":b(s.value,s.max),"data-value":s.value??void 0,"data-max":s.max,...r,ref:l})});function j(e,a){return`${Math.round(e/a*100)}%`}function b(e,a){return null==e?"indeterminate":e===a?"complete":"loading"}function y(e){return"number"==typeof e}function w(e){return y(e)&&!isNaN(e)&&e>0}function C(e,a){return y(e)&&!isNaN(e)&&e<=a&&e>=0}N.displayName=g;var P=e.i(19744);function k({className:e,value:l,...t}){return(0,a.jsx)(v,{"data-slot":"progress",className:(0,P.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",e),...t,children:(0,a.jsx)(N,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(l||0)}%)`}})})}let $=(0,l.memo)(({title:e,subtitle:u,required:c=!1,primary:m=!1,file:x,progress:p,error:f,onDrop:h,onFileSelect:v,onRemove:g})=>{let{isDragging:N,dragProps:j}=function(e){let[a,t]=(0,l.useState)(!1),r=(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),a||t(!0)},[a]);return{isDragging:a,dragProps:{onDragOver:r,onDragEnter:(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t(!0)},[]),onDragLeave:(0,l.useCallback)(e=>{e.preventDefault(),e.stopPropagation(),t(!1)},[]),onDrop:(0,l.useCallback)(a=>{a.preventDefault(),a.stopPropagation(),t(!1);let l=a.dataTransfer.files[0];l&&e(l)},[e])}}}(h),b=`file-upload-${e.toLowerCase().replace(/\s+/g,"-")}`;return(0,a.jsx)(d.Card,{className:`p-6 transition-all ${m?"border-primary/50 bg-primary/5":""} ${N?"ring-2 ring-primary":""}`,...j,children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-medium flex items-center gap-2",children:[e,c&&(0,a.jsx)("span",{className:"text-xs text-red-500",children:"*"})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:u})]}),x&&(0,a.jsx)(o.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:e=>{e.stopPropagation(),g()},children:(0,a.jsx)(n.X,{className:"h-4 w-4"})})]}),x?(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-muted/30 rounded-lg",children:[(0,a.jsx)(r.FileSpreadsheet,{className:"h-5 w-5 text-primary flex-shrink-0"}),(0,a.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,a.jsx)("p",{className:"text-sm font-medium truncate",children:x.name}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(x.size/1024/1024).toFixed(2)," MB"]})]}),(0,a.jsx)(s.CheckCircle2,{className:"h-5 w-5 text-green-500 flex-shrink-0"})]}),p<100&&(0,a.jsx)(k,{value:p,className:"h-2"})]}):(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center justify-center gap-3 p-6 border-2 border-dashed rounded-lg text-center",children:[(0,a.jsx)("div",{className:"p-3 rounded-full bg-primary/10 text-primary",children:(0,a.jsx)(t.Upload,{className:"h-5 w-5"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:"Arraste e solte o arquivo"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"ou clique para selecionar"})]}),(0,a.jsx)("input",{type:"file",className:"hidden",accept:".xlsx,.xls",onChange:v,id:b}),(0,a.jsx)(o.Button,{variant:"outline",size:"sm",className:"mt-2",onClick:()=>document.getElementById(b)?.click(),children:"Selecionar Arquivo"})]}),f&&(0,a.jsxs)("div",{className:"mt-3 text-sm text-red-500 flex items-center gap-2",children:[(0,a.jsx)(i.AlertCircle,{className:"h-4 w-4"}),f]})]})})});$.displayName="UploadCard";let A=(0,l.memo)(function({files:e,uploadProgress:t,onFileUpload:s,onMerge:i}){let[n,d]=(0,l.useState)({main:null,additional1:null,additional2:null}),u=(0,l.useCallback)(e=>e.name.endsWith(".xlsx")||e.name.endsWith(".xls")?e.size>0x6400000?"Arquivo muito grande. Máximo: 100MB":null:"Formato inválido. Use arquivos .xlsx ou .xls",[]),c=(0,l.useCallback)((e,a)=>{let l=u(a);l?d(a=>({...a,[e]:l})):(d(a=>({...a,[e]:null})),s(e,a))},[s,u]),m=(0,l.useCallback)((e,a)=>{let l=e.target.files?.[0];if(l){if(!(l.name.endsWith(".xlsx")||l.name.endsWith(".xls")))return void d(e=>({...e,[a]:"Formato inválido. Use arquivos .xlsx ou .xls"}));if(l.size>0x6400000)return void d(e=>({...e,[a]:"Arquivo muito grande. Máximo: 100MB"}));d(e=>({...e,[a]:null})),s(a,l)}},[s]),x=(0,l.useCallback)(e=>{d(a=>({...a,[e]:null})),s(e,null)},[s]),p=!!(e.main&&e.additional1);return(0,a.jsx)("section",{className:"border-b bg-background",children:(0,a.jsx)("div",{className:"container mx-auto px-4 py-12 md:py-16",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,a.jsxs)("div",{className:"text-center mb-10",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold mb-3",children:"Upload de Planilhas"}),(0,a.jsx)("p",{className:"text-muted-foreground text-balance",children:"Arraste e solte seus arquivos ou clique para selecionar. Suporte a arquivos grandes (>50MB)."})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-3 gap-6 mb-8",children:[(0,a.jsx)($,{title:"Planilha Mãe",subtitle:"Logmanager SLA",required:!0,primary:!0,file:e.main,progress:t.main,error:n.main||null,onDrop:e=>c("main",e),onFileSelect:e=>m(e,"main"),onRemove:()=>x("main")}),(0,a.jsx)($,{title:"Planilha Avulsa 1",subtitle:"Dados complementares",required:!0,file:e.additional1,progress:t.additional1,error:n.additional1||null,onDrop:e=>c("additional1",e),onFileSelect:e=>m(e,"additional1"),onRemove:()=>x("additional1")}),(0,a.jsx)($,{title:"Planilha Avulsa 2",subtitle:"Opcional - dados extras",file:e.additional2,progress:t.additional2,error:n.additional2||null,onDrop:e=>c("additional2",e),onFileSelect:e=>m(e,"additional2"),onRemove:()=>x("additional2")})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsxs)(o.Button,{size:"lg",className:"gap-2 px-8 shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",disabled:!p,onClick:i,children:[(0,a.jsx)(r.FileSpreadsheet,{className:"w-5 h-5"}),"Mesclar Planilhas"]})}),!p&&(0,a.jsx)("p",{className:"text-center text-sm text-muted-foreground mt-4",children:e.main||e.additional1?e.main?"Faça upload da Planilha Avulsa 1 (obrigatória)":"Faça upload da Planilha Mãe (obrigatória)":"Faça upload da Planilha Mãe e da Planilha Avulsa 1 para continuar"})]})})})});e.s(["UploadSection",0,A],52804)},32656,e=>{e.n(e.i(52804))}]);